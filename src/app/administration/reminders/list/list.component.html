<app-card #card [title]="'Seznam notifikací'" [icon]="'fas fa-bell'">
    <app-data-list #list (readData)="readData($event)">
        <app-loading *ngIf="!list.isDataLoaded"></app-loading>

        <ng-container *ngIf="list.isDataLoaded">
            <app-card *ngIf="list.isEmpty" [header]="false" [classes]="['mb-3']">
                <h6 class="mb-0">Pro zadaný filtr nebyly nalezeny žádné položky.</h6>
            </app-card>

            <table class="table table-sm table-bordered table-striped auto-column-width" *ngIf="!list.isEmpty">
                <thead>
                    <tr>
                        <th sortable [key]="'id'" [current]="sortBy" [sortDesc]="sortDesc" (clicked)="setSort($any($event))">#</th>
                        <th sortable [key]="'fromUser'" [current]="sortBy" [sortDesc]="sortDesc" (clicked)="setSort($any($event))">
                            Odesílatel</th>
                        <th sortable [key]="'at'" [current]="sortBy" [sortDesc]="sortDesc" (clicked)="setSort($any($event))">Oznámit v</th>
                        <th sortable [key]="'postpone'" [current]="sortBy" [sortDesc]="sortDesc" (clicked)="setSort($any($event))">Odloženo
                        </th>
                        <th>Oznámeno</th>
                        <th>Akce</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of list.items">
                        <td>{{item.id}}</td>
                        <td>{{item.fromUser?.fullUsername}}</td>
                        <td>{{item.at.toLocaleString()}}</td>
                        <td>{{item.postpone}}</td>
                        <td>{{item.notified | czechBooleanPipe}}</td>
                        <td>
                            <list-button (clicked)="showMessage(item)" title="Zobrazit zprávu" icon="info"></list-button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </ng-container>
    </app-data-list>
</app-card>
